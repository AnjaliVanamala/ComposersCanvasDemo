import{e as u,c as v,a as b,b as a,f as y,w as i,v as d,n as V,t as g,o as c}from"./index-B7a_QHev.js";import{u as C,a as S}from"./auth-uTHX374j.js";import{_ as k,N as x}from"./Navbar-CxZpfC95.js";const A={class:"container"},U={__name:"CreateAccountView",setup(E){const l=u(""),o=u(""),n=u(""),r=u(null),f=C(),w=async p=>{var e,s,m;p.preventDefault();try{const t=await S.post("undefined/register",{username:l.value,password:o.value,email:n.value},{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});await f.checkAuthStatus(),l.value="",o.value="",n.value="",r.value=t.data.message,window.location.href="profile"}catch(t){console.error("Error:",((e=t.response)==null?void 0:e.data)||t.message),r.value="Error: "+(((m=(s=t.response)==null?void 0:s.data)==null?void 0:m.message)||t.message)}};return(p,e)=>(c(),v("div",A,[b(x),e[7]||(e[7]=a("h2",null,"Create Account",-1)),a("form",{onSubmit:w},[a("div",null,[e[3]||(e[3]=a("label",{for:"username"},"Username:",-1)),i(a("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),required:"",class:"input-field"},null,512),[[d,l.value]])]),a("div",null,[e[4]||(e[4]=a("label",{for:"password"},"Password:",-1)),i(a("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>o.value=s),required:"",class:"input-field"},null,512),[[d,o.value]])]),a("div",null,[e[5]||(e[5]=a("label",{for:"email"},"Email:",-1)),i(a("input",{type:"email",id:"email","onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),required:"",class:"input-field"},null,512),[[d,n.value]])]),e[6]||(e[6]=a("button",{type:"submit",class:"btn-primary"},"Submit",-1))],32),r.value?(c(),v("div",{key:0,class:V(["alert",r.value.startsWith("Error:")?"alert-danger":"alert-success"])},g(r.value),3)):y("",!0)]))}},j=k(U,[["__scopeId","data-v-70a7875c"]]);export{j as default};
