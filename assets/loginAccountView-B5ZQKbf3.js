import{e as l,c as d,a as g,b as s,f as y,w as p,v as m,n as S,t as V,o as c}from"./index-BdCBJym9.js";import{u as x,a as A}from"./auth-6UH9_I9l.js";import{_ as k,N}from"./Navbar-f7hm-26o.js";const C={class:"container"},E={__name:"loginAccountView",setup(U){const v=x(),r=l(""),n=l(""),o=l(null),f=l(!1),w=void 0,b=async u=>{var e,a,i;u.preventDefault(),f.value=!0;try{const t=await A.post(w+"/login",{username:r.value,password:n.value},{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});await v.checkAuthStatus(),r.value="",n.value="",o.value=t.data.message,window.location.href="profile"}catch(t){console.error("Error:",((e=t.response)==null?void 0:e.data)||t.message),o.value="Error: "+(((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.message)||t.message)}};return(u,e)=>(c(),d("div",C,[g(N),e[5]||(e[5]=s("h2",null,"Login to Account",-1)),s("form",{onSubmit:b},[s("div",null,[e[2]||(e[2]=s("label",{for:"username"},"Username:",-1)),p(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),required:"",class:"input-field"},null,512),[[m,r.value]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"password"},"Password:",-1)),p(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),required:"",class:"input-field"},null,512),[[m,n.value]])]),e[4]||(e[4]=s("button",{type:"submit",class:"btn-primary"},"Submit",-1))],32),o.value?(c(),d("div",{key:0,class:S(["alert",o.value.startsWith("Error:")?"alert-danger":"alert-success"])},V(o.value),3)):y("",!0)]))}},h=k(E,[["__scopeId","data-v-8aa1ef67"]]);export{h as default};
